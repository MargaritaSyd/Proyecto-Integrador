<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MaMeLi - Crear producto</title>
        <link rel="shortcut icon" href="/imagenes/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="/css/shop.css">
        <link rel="stylesheet" href="/css/login.css">
        <link rel="stylesheet" href="/css/productForm.css">
        <link rel="stylesheet" href="/css/indexstylesheet.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Yaldevi:wght@300;500&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.css">
        <link rel="stylesheet" href="gallery-grid.css">
        <link rel="stylesheet" href="/css/indexstylesheet.css">
        <link href = '/css/detailStyle.css' rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Yaldevi:wght@300;500&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    </head> 
<body>

    <div class="fixed-top">
        <header class="newHeader">
          <div class="container">
            <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
              <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"/></svg>
              </a>
              <span>
                  <a href="/"> <img class="logo" src="/imagenes/logo.png" alt="logo"></a> 
              </span>
              <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                <li><a href="/" class="nav-link px-2 text-white botonHeader">Inicio</a></li>
                <li><a href="/users/login" class="nav-link px-2 text-white botonHeader">Perfil</a></li>
                <li><a href="/product" class="nav-link px-2 text-white botonHeader">Productos</a></li>
                <li><a href="/faqs" class="nav-link px-2 text-white botonHeader">FAQs</a></li>
                <li><a href="/nosotros" class="nav-link px-2 text-white botonHeader">Nosotros</a></li>
                <li><a href="/cart" <i class="fas fa-shopping-cart botonHeader"></i></a></li>
              </ul>
              <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3">
                <input type="search" class="form-control form-control-dark" placeholder="Buscar producto.." aria-label="Search">
              </form>
              <div class="text-end">
                <a href="/users/login" <button type="button" class="btn btn-outline-light me-2" >Ingresá!</button> </a>
                <a href="/users/register" <button type="button" class="btn btn-warning" >Creá tu cuenta</button> </a>
              </div>
            </div>
          </div>
        </header>
      </div>

    <main id="login-main">
        <div class="prodCreateFormContainer">
            <div id="div-icono">
                <i id="icono" class="fas fa-leaf"></i> 
            </div>
            <label id="bienvenidaF" class="labels-formulario">Nuevo producto</label>
            <form class="productForm" action="/product/create" method="POST" enctype="multipart/form-data"> 
                <div  class="ProductFormFirstLine">
                    <div class="prodFormName">
                        <label class="prodFormLabel" for="">Nombre</label>
                        <input id="product_name_input" class="prodFormInput" type="text" name="name" value= <%=locals.old? old.name: null%>>
                        <small style="color:red;"><%=locals.mensajeError&&mensajeError.name?mensajeError.name.msg:null%></small> 
                        <small id="name_error" style="color: blue;"></small>
                    </div>
                    <div class="prodFormCategory">
                        <label class="prodFormLabel" for="">Categoría</label>
                        <select name="category" id="category">                          
                            <option value="" disabled selected>Seleccione una categoría</option>
                            <% for(let i=0; i<category.length; i++){ %>
                                <% if (locals.old && old.category && old.category==category[i].id) { %>
                                    <option value="<%=category[i].id%>" selected><%=category[i].name%></option>
                                <% } else { %>
                                    <option value="<%=category[i].id%>"><%=category[i].name%></option>
                                <%}%>     
                            <%}%> 
                        </select>
                        <small style="color:red;"><%=locals.mensajeError&&mensajeError.category?mensajeError.category.msg:null%></small>
                        <small id="category_error" style="color: blue;"></small>
                    </div>
                </div>
                
                <div class="ProductFormSecondLine">
                    <div class="prodFormPrice">
                        <label class="prodFormLabel" for="">Precio</label>
                        <input id="product_price_input" class="prodFormInput" type="number" name="price" value= <%=locals.old? old.price: null%>>
                        <small style="color:red;"><%=locals.mensajeError&&mensajeError.price?mensajeError.price.msg:null%></small>
                        <small id="price_error" style="color: blue;"></small>
                    </div>
                </div>
                <div class="ProductFormThirdLine">
                    <div class="prodFormPrice">
                        <label class="prodFormLabel" for="">Stock disponible</label>
                        <input id="product_stock_input" class="prodFormInput" type="number" name="stock" value= <%=locals.old && old.stock? old.stock: null%>>
                        <small style="color:red;"><%=locals.mensajeError&&mensajeError.stock?mensajeError.stock.msg:null%></small>
                        <small id="stock_error" style="color: blue;"></small>
                    </div>
                </div>
                
                <div class="textArea-description">
                    <!-- <label class="prodFormLabel" for="">Descripción</label> -->
                    <label style="margin:auto" class="prodFormLabel" for="">Descripción</label>
                    <textarea class="prodFormInputInterest" name="description" id="" cols="30" rows="10"><%=locals.old && old.description? old.description: null%></textarea>
                </div>



                <div style="text-align: center; margin-top: 20px;">
                    <select class="product_showing_select" name="showing" id="">
                            <option value="1" selected>Producto en exhibición</option>
                            <option value="0" >Producto no exhibido</option>
                    </select>
                </div>





                <div class="new-product-button-add-image-div-container">   
                    <label class="new-product-button-add-image-name" >Agregar imágenes</label>
                    <input id="product_image_input" type="file" name="productImage" accept=".gif,.png,.jpeg,.bmp,.webp,.jpg" class="new-product-button-add-image-input">
                   
                </div>
                <div style="text-align: center;"> 
                    <small style="color:red;"><%=locals.mensajeError&&mensajeError.productImage?mensajeError.productImage.msg:null%></small>
                    <small id="image_error" style="color: blue;"></small>
                </div>
                <div class="productFormFourthLine">
                    <!-- <label for="">En exhibición</label>
                    <input type="checkbox" name="showing"> -->
                    <button class="prodFormButton" type="submit" id="ingresar">Confirmar</button>
                </div>
            </form> 
        </div> 
    </div>  
    </main>
   
    <%- include('../partials/footer') %>
    <script src="https://kit.fontawesome.com/17464b966e.js" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/17464b966e.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

    <script src="/javascript/forms_product.js"></script>

</body>
</html>


